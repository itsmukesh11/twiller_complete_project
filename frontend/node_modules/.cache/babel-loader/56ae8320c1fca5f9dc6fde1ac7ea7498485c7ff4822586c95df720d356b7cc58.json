{"ast":null,"code":"import React from\"react\";import SubscriptionPage from\"../components/SubscriptionPage\";import ForgotPassword from\"../components/ForgotPassword\";import API from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const suggestedUsers=[{name:\"Jane Doe\",handle:\"janedoe\",avatar:\"https://randomuser.me/api/portraits/women/44.jpg\"},{name:\"John Smith\",handle:\"johnsmith\",avatar:\"https://randomuser.me/api/portraits/men/45.jpg\"},{name:\"Alice Blue\",handle:\"aliceblue\",avatar:\"https://randomuser.me/api/portraits/women/46.jpg\"}];const hashtags=[\"#React\",\"#Tailwind\",\"#WebDev\",\"#OpenAI\",\"#NodeJS\",\"#MongoDB\"];export default function RightPanel(){return/*#__PURE__*/_jsxs(\"aside\",{className:\"rightpanel hidden lg:block p-4\",style:{background:\"rgba(255,255,255,0.7)\",boxShadow:\"0 8px 32px rgba(29,155,240,0.18)\",borderRadius:\"28px\",backdropFilter:\"blur(12px)\",border:\"1.5px solid #e6ecf0\"},children:[/*#__PURE__*/_jsx(SubscriptionPage,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:8},children:/*#__PURE__*/_jsx(ForgotPassword,{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg mb-2\",children:\"Who to follow\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-3\",children:suggestedUsers.map(u=>/*#__PURE__*/_jsx(FollowRow,{user:u},u.handle))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg mb-2\",children:\"Trending Hashtags\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"flex flex-col gap-2\",children:hashtags.map(tag=>/*#__PURE__*/_jsx(\"li\",{className:\"text-blue-500 font-semibold hover:underline cursor-pointer\",children:tag},tag))})]})]});}function FollowRow(_ref){let{user}=_ref;const[following,setFollowing]=React.useState(false);React.useEffect(()=>{let mounted=true;(async()=>{try{const res=await API.get(\"/auth/is-following/\"+user.handle);if(mounted&&res.data)setFollowing(!!res.data.following);}catch(e){// ignore\n}})();return()=>{mounted=false;};},[user.handle]);async function toggle(){try{const endpoint=following?\"/auth/unfollow/\"+user.handle:\"/auth/follow/\"+user.handle;const res=await API.post(endpoint);if(res.data&&typeof res.data.follows!==\"undefined\"){const tId=res.data.targetId;const nowFollowing=(res.data.follows||[]).map(String).includes(String(tId));setFollowing(nowFollowing);}else{setFollowing(!following);}}catch(e){console.debug(e);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 bg-white/80 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:user.name,className:\"w-8 h-8 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"@\",user.handle]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggle,className:following?\"px-3 py-1 rounded-full text-xs font-bold bg-gray-200 text-gray-700\":\"px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-blue-500 to-cyan-400 text-white\",children:following?\"Following\":\"Follow\"})]});}","map":{"version":3,"names":["React","SubscriptionPage","ForgotPassword","API","jsx","_jsx","jsxs","_jsxs","suggestedUsers","name","handle","avatar","hashtags","RightPanel","className","style","background","boxShadow","borderRadius","backdropFilter","border","children","marginBottom","map","u","FollowRow","user","tag","_ref","following","setFollowing","useState","useEffect","mounted","res","get","data","e","toggle","endpoint","post","follows","tId","targetId","nowFollowing","String","includes","console","debug","src","alt","onClick"],"sources":["C:/Users/itsmu/twiller_complete_project/frontend/src/layout/RightPanel.jsx"],"sourcesContent":["\r\nimport React from \"react\";\r\nimport SubscriptionPage from \"../components/SubscriptionPage\";\r\nimport ForgotPassword from \"../components/ForgotPassword\";\r\nimport API from \"../api\";\r\n\r\nconst suggestedUsers = [\r\n  { name: \"Jane Doe\", handle: \"janedoe\", avatar: \"https://randomuser.me/api/portraits/women/44.jpg\" },\r\n  { name: \"John Smith\", handle: \"johnsmith\", avatar: \"https://randomuser.me/api/portraits/men/45.jpg\" },\r\n  { name: \"Alice Blue\", handle: \"aliceblue\", avatar: \"https://randomuser.me/api/portraits/women/46.jpg\" },\r\n];\r\nconst hashtags = [\"#React\", \"#Tailwind\", \"#WebDev\", \"#OpenAI\", \"#NodeJS\", \"#MongoDB\"];\r\n\r\nexport default function RightPanel() {\r\n  return (\r\n    <aside className=\"rightpanel hidden lg:block p-4\" style={{\r\n      background: \"rgba(255,255,255,0.7)\",\r\n      boxShadow: \"0 8px 32px rgba(29,155,240,0.18)\",\r\n      borderRadius: \"28px\",\r\n      backdropFilter: \"blur(12px)\",\r\n      border: \"1.5px solid #e6ecf0\"\r\n    }}>\r\n      <SubscriptionPage />\r\n      <div className=\"mt-8\">\r\n        <div style={{ marginBottom: 8 }}>\r\n          <ForgotPassword />\r\n        </div>\r\n      </div>\r\n      {/* Who to follow */}\r\n      <div className=\"mt-8\">\r\n        <div className=\"font-bold text-lg mb-2\">Who to follow</div>\r\n        <div className=\"flex flex-col gap-3\">\r\n          {suggestedUsers.map((u) => (\r\n            <FollowRow key={u.handle} user={u} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {/* Trending hashtags */}\r\n      <div className=\"mt-8\">\r\n        <div className=\"font-bold text-lg mb-2\">Trending Hashtags</div>\r\n        <ul className=\"flex flex-col gap-2\">\r\n          {hashtags.map((tag) => (\r\n            <li key={tag} className=\"text-blue-500 font-semibold hover:underline cursor-pointer\">{tag}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\n  function FollowRow({ user }) {\r\n    const [following, setFollowing] = React.useState(false);\r\n    React.useEffect(() => {\r\n      let mounted = true;\r\n      (async () => {\r\n        try {\r\n          const res = await API.get(\"/auth/is-following/\" + user.handle);\r\n          if (mounted && res.data) setFollowing(!!res.data.following);\r\n        } catch (e) {\r\n          // ignore\r\n        }\r\n      })();\r\n      return () => { mounted = false; };\r\n    }, [user.handle]);\r\n\r\n    async function toggle() {\r\n        try {\r\n          const endpoint = following ? \"/auth/unfollow/\" + user.handle : \"/auth/follow/\" + user.handle;\r\n          const res = await API.post(endpoint);\r\n          if (res.data && typeof res.data.follows !== \"undefined\") {\r\n            const tId = res.data.targetId;\r\n            const nowFollowing = (res.data.follows || []).map(String).includes(String(tId));\r\n            setFollowing(nowFollowing);\r\n          } else {\r\n            setFollowing(!following);\r\n          }\r\n        } catch (e) {\r\n          console.debug(e);\r\n        }\r\n    }\r\n\r\n    return (\r\n      <div className=\"flex items-center gap-3 bg-white/80 rounded-lg p-2\">\r\n        <img src={user.avatar} alt={user.name} className=\"w-8 h-8 rounded-full\" />\r\n        <div className=\"flex-1\">\r\n          <div className=\"font-semibold\">{user.name}</div>\r\n          <div className=\"text-xs text-gray-500\">@{user.handle}</div>\r\n        </div>\r\n        <button\r\n          onClick={toggle}\r\n          className={\r\n            following\r\n              ? \"px-3 py-1 rounded-full text-xs font-bold bg-gray-200 text-gray-700\"\r\n              : \"px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-blue-500 to-cyan-400 text-white\"\r\n          }\r\n        >\r\n          {following ? \"Following\" : \"Follow\"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}