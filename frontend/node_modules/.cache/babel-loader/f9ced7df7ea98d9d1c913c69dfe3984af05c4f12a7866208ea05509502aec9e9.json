{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itsmu\\\\Downloads\\\\twiller_complete_project\\\\frontend\\\\src\\\\components\\\\CustomVideoPlayer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CustomVideoPlayer({\n  src\n}) {\n  _s();\n  const videoRef = useRef();\n  const taps = useRef([]);\n  function handleTouch(e) {\n    const touch = e.touches[0];\n    const rect = e.target.getBoundingClientRect();\n    const x = touch.clientX - rect.left;\n    const third = rect.width / 3;\n    taps.current.push({\n      t: Date.now(),\n      x\n    });\n    taps.current = taps.current.filter(a => Date.now() - a.t < 800);\n    const len = taps.current.length;\n    if (len === 1) {\n      setTimeout(() => {\n        if (taps.current.length === 1) {\n          const pos = taps.current[0].x;\n          if (pos > third && pos < 2 * third) {\n            const v = videoRef.current;\n            if (v.paused) v.play();else v.pause();\n          }\n          taps.current = [];\n        }\n      }, 250);\n    } else if (len === 2) {\n      const avgX = (taps.current[0].x + taps.current[1].x) / 2;\n      const v = videoRef.current;\n      if (avgX > 2 * third) v.currentTime = Math.min(v.duration, v.currentTime + 10);else if (avgX < third) v.currentTime = Math.max(0, v.currentTime - 10);\n      taps.current = [];\n    } else if (len >= 3) {\n      const avgX = (taps.current[0].x + taps.current[1].x + taps.current[2].x) / 3;\n      const v = videoRef.current;\n      if (avgX > 2 * third) {\n        window.close();\n      } else if (avgX < third) {\n        alert('Show comments (implement modal)');\n      } else {\n        const evt = new CustomEvent('nextVideo');\n        window.dispatchEvent(evt);\n      }\n      taps.current = [];\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-container\",\n    children: /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      src: src,\n      controls: true,\n      onTouchStart: handleTouch,\n      style: {\n        width: '100%',\n        maxHeight: 400\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomVideoPlayer, \"baalunHMXZRD5n1PPkyGZkYfiRU=\");\n_c = CustomVideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"CustomVideoPlayer\");","map":{"version":3,"names":["React","useRef","jsxDEV","_jsxDEV","CustomVideoPlayer","src","_s","videoRef","taps","handleTouch","e","touch","touches","rect","target","getBoundingClientRect","x","clientX","left","third","width","current","push","t","Date","now","filter","a","len","length","setTimeout","pos","v","paused","play","pause","avgX","currentTime","Math","min","duration","max","window","close","alert","evt","CustomEvent","dispatchEvent","className","children","ref","controls","onTouchStart","style","maxHeight","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/itsmu/Downloads/twiller_complete_project/frontend/src/components/CustomVideoPlayer.jsx"],"sourcesContent":["import React, { useRef } from 'react';\n\nexport default function CustomVideoPlayer({ src }){\n  const videoRef = useRef();\n  const taps = useRef([]);\n\n  function handleTouch(e){\n    const touch = e.touches[0];\n    const rect = e.target.getBoundingClientRect();\n    const x = touch.clientX - rect.left;\n    const third = rect.width / 3;\n    taps.current.push({ t: Date.now(), x });\n    taps.current = taps.current.filter(a => Date.now() - a.t < 800);\n    const len = taps.current.length;\n\n    if (len === 1) {\n      setTimeout(()=> {\n        if (taps.current.length === 1) {\n          const pos = taps.current[0].x;\n          if (pos > third && pos < 2*third) {\n            const v = videoRef.current;\n            if (v.paused) v.play(); else v.pause();\n          }\n          taps.current = [];\n        }\n      }, 250);\n    } else if (len === 2) {\n      const avgX = (taps.current[0].x + taps.current[1].x) / 2;\n      const v = videoRef.current;\n      if (avgX > 2*third) v.currentTime = Math.min(v.duration, v.currentTime + 10);\n      else if (avgX < third) v.currentTime = Math.max(0, v.currentTime - 10);\n      taps.current = [];\n    } else if (len >= 3) {\n      const avgX = (taps.current[0].x + taps.current[1].x + taps.current[2].x) / 3;\n      const v = videoRef.current;\n      if (avgX > 2*third) {\n        window.close();\n      } else if (avgX < third) {\n        alert('Show comments (implement modal)');\n      } else {\n        const evt = new CustomEvent('nextVideo');\n        window.dispatchEvent(evt);\n      }\n      taps.current = [];\n    }\n  }\n\n  return (\n    <div className=\"video-container\">\n      <video\n        ref={videoRef}\n        src={src}\n        controls\n        onTouchStart={handleTouch}\n        style={{ width: '100%', maxHeight: 400 }}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}