{"ast":null,"code":"import React,{useState,useRef,useContext}from\"react\";import API from\"../api\";import NotificationContext from\"../notificationContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AudioRecorder(_ref){let{onUploaded}=_ref;const{enabled:notificationsEnabled}=useContext(NotificationContext);const[recording,setRecording]=useState(false);const[mediaRecorder,setMediaRecorder]=useState(null);const[chunks,setChunks]=useState([]);const[otpSent,setOtpSent]=useState(false);const[otp,setOtp]=useState(\"\");const[otpVerified,setOtpVerified]=useState(false);const[duration,setDuration]=useState(0);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const audioRef=useRef();async function startRecording(){const now=new Date();const istNow=new Date(now.toLocaleString(\"en-US\",{timeZone:\"Asia/Kolkata\"}));const hour=istNow.getHours();if(hour<14||hour>=19)return alert(\"Audio uploads allowed only 2PM-7PM IST\");const stream=await navigator.mediaDevices.getUserMedia({audio:true});const mr=new MediaRecorder(stream);const localChunks=[];mr.ondataavailable=e=>localChunks.push(e.data);mr.onstop=()=>setChunks(localChunks);mr.start();setMediaRecorder(mr);setRecording(true);setTimeout(()=>{if(mr.state===\"recording\")mr.stop();setRecording(false);},300000);}function stopRecording(){if(mediaRecorder&&mediaRecorder.state===\"recording\")mediaRecorder.stop();setRecording(false);}function play(){if(!chunks.length)return;const blob=new Blob(chunks,{type:\"audio/webm\"});const url=URL.createObjectURL(blob);audioRef.current.src=url;audioRef.current.onloadedmetadata=()=>{setDuration(audioRef.current.duration);};audioRef.current.play();}async function sendOtp(){setError(\"\");setLoading(true);try{await API.post(\"/audio/send-otp\");setOtpSent(true);setError(\"OTP sent to your email.\");}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message);}setLoading(false);}async function verifyOtp(){setError(\"\");setLoading(true);try{await API.post(\"/audio/verify-otp\",{code:otp});setOtpVerified(true);setError(\"OTP verified, now you can upload audio.\");}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||err.message);}setLoading(false);}async function upload(){setError(\"\");if(!chunks.length)return setError(\"No audio recorded\");const blob=new Blob(chunks,{type:\"audio/webm\"});if(blob.size>100*1024*1024)return setError(\"File too big\");if(duration>300)return setError(\"Audio is longer than 5 minutes\");if(!otpVerified)return setError(\"Please verify OTP before uploading\");setLoading(true);try{const fd=new FormData();fd.append(\"audio\",blob,\"audio.webm\");const res=await API.post(\"/audio/upload\",fd);setError(\"Uploaded successfully!\");setChunks([]);setOtpVerified(false);setOtpSent(false);setOtp(\"\");onUploaded&&onUploaded();try{const tweet=res.data&&res.data.tweet;const text=tweet&&tweet.text||\"New audio tweet\";const shouldNotify=tweet&&/(cricket|science)/i.test(text)||/(cricket|science)/i.test(text);if(notificationsEnabled&&shouldNotify&&typeof Notification!==\"undefined\"&&Notification.permission===\"granted\"){new Notification(\"New Audio Tweet\",{body:text});}}catch(e){console.debug(\"Notification failed\",e);}}catch(err){var _err$response3,_err$response3$data;setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||err.message);}setLoading(false);}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-5 border border-blue-100 flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold text-blue-700\",children:\"Audio Tweet\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-blue-200 mt-1 mb-3\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:error.includes(\"success\")?\"#388e3c\":\"#d32f2f\",marginBottom:8,fontWeight:500},children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:recording?stopRecording:startRecording,disabled:loading,className:\"px-4 py-2 rounded-full font-semibold shadow \".concat(recording?\"bg-red-100 text-red-600\":\"bg-blue-100 text-blue-700\",\" hover:bg-blue-200 transition\"),children:recording?\"Stop\":\"Record (max 5 min)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:play,disabled:loading,className:\"px-4 py-2 rounded-full font-semibold shadow bg-gray-100 text-gray-700 hover:bg-gray-200 transition\",children:\"Play\"})]}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,controls:true,className:\"w-full mb-2\"}),duration>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Duration: \",Math.floor(duration/60),\":\",(\"0\"+Math.floor(duration%60)).slice(-2),\" min\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap items-center mb-2\",children:[!otpSent&&/*#__PURE__*/_jsx(\"button\",{onClick:sendOtp,disabled:loading,className:\"px-4 py-2 rounded-full font-semibold shadow bg-blue-100 text-blue-700 hover:bg-blue-200 transition\",children:\"Send OTP to verify\"}),otpSent&&!otpVerified&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:otp,onChange:e=>setOtp(e.target.value),placeholder:\"Enter OTP\",disabled:loading,className:\"px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300\"}),/*#__PURE__*/_jsx(\"button\",{onClick:verifyOtp,disabled:loading,className:\"px-4 py-2 rounded-full font-semibold shadow bg-blue-100 text-blue-700 hover:bg-blue-200 transition\",children:\"Verify OTP\"})]}),otpVerified&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-semibold\",children:\"OTP Verified!\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:upload,disabled:!otpVerified||loading,className:\"w-full px-4 py-2 rounded-full font-bold shadow bg-gradient-to-r from-blue-500 to-cyan-400 text-white hover:scale-105 transition flex items-center justify-center gap-2\",children:[loading&&/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 text-white mr-2\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"})]}),\"Upload\"]})]});}","map":{"version":3,"names":["React","useState","useRef","useContext","API","NotificationContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AudioRecorder","_ref","onUploaded","enabled","notificationsEnabled","recording","setRecording","mediaRecorder","setMediaRecorder","chunks","setChunks","otpSent","setOtpSent","otp","setOtp","otpVerified","setOtpVerified","duration","setDuration","loading","setLoading","error","setError","audioRef","startRecording","now","Date","istNow","toLocaleString","timeZone","hour","getHours","alert","stream","navigator","mediaDevices","getUserMedia","audio","mr","MediaRecorder","localChunks","ondataavailable","e","push","data","onstop","start","setTimeout","state","stop","stopRecording","play","length","blob","Blob","type","url","URL","createObjectURL","current","src","onloadedmetadata","sendOtp","post","err","_err$response","_err$response$data","response","message","verifyOtp","code","_err$response2","_err$response2$data","upload","size","fd","FormData","append","res","tweet","text","shouldNotify","test","Notification","permission","body","console","debug","_err$response3","_err$response3$data","className","children","style","color","includes","marginBottom","fontWeight","onClick","disabled","concat","ref","controls","Math","floor","slice","value","onChange","target","placeholder","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d"],"sources":["C:/Users/itsmu/twiller_complete_project/frontend/src/components/AudioRecorder.jsx"],"sourcesContent":["\r\n\r\nimport React, { useState, useRef, useContext } from \"react\";\r\nimport API from \"../api\";\r\nimport NotificationContext from \"../notificationContext\";\r\n\r\nexport default function AudioRecorder({ onUploaded }) {\r\n  const { enabled: notificationsEnabled } = useContext(NotificationContext);\r\n  const [recording, setRecording] = useState(false);\r\n  const [mediaRecorder, setMediaRecorder] = useState(null);\r\n  const [chunks, setChunks] = useState([]);\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [otpVerified, setOtpVerified] = useState(false);\r\n  const [duration, setDuration] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const audioRef = useRef();\r\n\r\n  async function startRecording(){\r\n    const now = new Date();\r\n  const istNow = new Date(now.toLocaleString(\"en-US\", { timeZone: \"Asia/Kolkata\" }));\r\n    const hour = istNow.getHours();\r\n  if (hour < 14 || hour >= 19) return alert(\"Audio uploads allowed only 2PM-7PM IST\");\r\n\r\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    const mr = new MediaRecorder(stream);\r\n    const localChunks = [];\r\n    mr.ondataavailable = e => localChunks.push(e.data);\r\n    mr.onstop = ()=> setChunks(localChunks);\r\n    mr.start();\r\n    setMediaRecorder(mr);\r\n    setRecording(true);\r\n\r\n    setTimeout(() => {\r\n      if (mr.state === \"recording\") mr.stop();\r\n      setRecording(false);\r\n    }, 300000);\r\n  }\r\n\r\n  function stopRecording(){\r\n    if (mediaRecorder && mediaRecorder.state === \"recording\") mediaRecorder.stop();\r\n    setRecording(false);\r\n  }\r\n\r\n  function play(){\r\n    if (!chunks.length) return;\r\n  const blob = new Blob(chunks, { type: \"audio/webm\" });\r\n    const url = URL.createObjectURL(blob);\r\n    audioRef.current.src = url;\r\n    audioRef.current.onloadedmetadata = () => {\r\n      setDuration(audioRef.current.duration);\r\n    };\r\n    audioRef.current.play();\r\n  }\r\n\r\n  async function sendOtp(){\r\n    setError(\"\");\r\n    setLoading(true);\r\n    try {\r\n  await API.post(\"/audio/send-otp\");\r\n      setOtpSent(true);\r\n      setError(\"OTP sent to your email.\");\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  async function verifyOtp(){\r\n    setError(\"\");\r\n    setLoading(true);\r\n    try {\r\n  await API.post(\"/audio/verify-otp\", { code: otp });\r\n      setOtpVerified(true);\r\n      setError(\"OTP verified, now you can upload audio.\");\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  async function upload(){\r\n    setError(\"\");\r\n    if (!chunks.length) return setError(\"No audio recorded\");\r\n    const blob = new Blob(chunks, { type: \"audio/webm\" });\r\n    if (blob.size > 100 * 1024 * 1024) return setError(\"File too big\");\r\n    if (duration > 300) return setError(\"Audio is longer than 5 minutes\");\r\n    if (!otpVerified) return setError(\"Please verify OTP before uploading\");\r\n    setLoading(true);\r\n    try {\r\n    const fd = new FormData();\r\n    fd.append(\"audio\", blob, \"audio.webm\");\r\n    const res = await API.post(\"/audio/upload\", fd);\r\n      setError(\"Uploaded successfully!\");\r\n      setChunks([]);\r\n      setOtpVerified(false);\r\n      setOtpSent(false);\r\n      setOtp(\"\");\r\n      onUploaded && onUploaded();\r\n      try {\r\n        const tweet = res.data && res.data.tweet;\r\n        const text = (tweet && tweet.text) || \"New audio tweet\";\r\n        const shouldNotify = (tweet && /(cricket|science)/i.test(text)) || /(cricket|science)/i.test(text);\r\n        if (notificationsEnabled && shouldNotify && typeof Notification !== \"undefined\" && Notification.permission === \"granted\") {\r\n          new Notification(\"New Audio Tweet\", { body: text });\r\n        }\r\n      } catch (e) {\r\n        console.debug(\"Notification failed\", e);\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow p-5 border border-blue-100 flex flex-col gap-4\">\r\n      <div>\r\n        <h4 className=\"text-lg font-bold text-blue-700\">Audio Tweet</h4>\r\n        <div className=\"border-b border-blue-200 mt-1 mb-3\"></div>\r\n      </div>\r\n      {error && <div style={{color: error.includes(\"success\") ? \"#388e3c\" : \"#d32f2f\", marginBottom:8, fontWeight:500}}>{error}</div>}\r\n      <div className=\"flex gap-2 flex-wrap mb-2\">\r\n        <button onClick={recording ? stopRecording : startRecording} disabled={loading}\r\n          className={`px-4 py-2 rounded-full font-semibold shadow ${recording ? \"bg-red-100 text-red-600\" : \"bg-blue-100 text-blue-700\"} hover:bg-blue-200 transition`}>\r\n          {recording ? \"Stop\" : \"Record (max 5 min)\"}\r\n        </button>\r\n        <button onClick={play} disabled={loading}\r\n          className=\"px-4 py-2 rounded-full font-semibold shadow bg-gray-100 text-gray-700 hover:bg-gray-200 transition\">\r\n          Play\r\n        </button>\r\n      </div>\r\n      <audio ref={audioRef} controls className=\"w-full mb-2\" />\r\n      {duration > 0 && <div className=\"text-sm text-gray-500\">Duration: {Math.floor(duration/60)}:{(\"0\"+Math.floor(duration%60)).slice(-2)} min</div>}\r\n      <div className=\"flex gap-2 flex-wrap items-center mb-2\">\r\n        {!otpSent && <button onClick={sendOtp} disabled={loading}\r\n          className=\"px-4 py-2 rounded-full font-semibold shadow bg-blue-100 text-blue-700 hover:bg-blue-200 transition\">Send OTP to verify</button>}\r\n        {otpSent && !otpVerified && <>\r\n          <input value={otp} onChange={e=>setOtp(e.target.value)} placeholder={\"Enter OTP\"} disabled={loading}\r\n            className=\"px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300\" />\r\n          <button onClick={verifyOtp} disabled={loading}\r\n            className=\"px-4 py-2 rounded-full font-semibold shadow bg-blue-100 text-blue-700 hover:bg-blue-200 transition\">Verify OTP</button>\r\n        </>}\r\n        {otpVerified && <span className=\"text-green-600 font-semibold\">OTP Verified!</span>}\r\n      </div>\r\n      <button onClick={upload} disabled={!otpVerified || loading}\r\n        className=\"w-full px-4 py-2 rounded-full font-bold shadow bg-gradient-to-r from-blue-500 to-cyan-400 text-white hover:scale-105 transition flex items-center justify-center gap-2\">\r\n        {loading && (\r\n          <svg className=\"animate-spin h-5 w-5 text-white mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\r\n          </svg>\r\n        )}\r\n        Upload\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}