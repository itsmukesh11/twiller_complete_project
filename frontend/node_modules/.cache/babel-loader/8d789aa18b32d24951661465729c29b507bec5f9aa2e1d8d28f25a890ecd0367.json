{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itsmu\\\\Downloads\\\\twiller_complete_project\\\\frontend\\\\src\\\\components\\\\CustomVideoPlayer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CustomVideoPlayer({\n  src\n}) {\n  _s();\n  const videoRef = useRef();\n  const taps = useRef([]);\n  const [loading, setLoading] = useState(true);\n  function handleTouch(e) {\n    const touch = e.touches[0];\n    const rect = e.target.getBoundingClientRect();\n    const x = touch.clientX - rect.left;\n    const third = rect.width / 3;\n    taps.current.push({\n      t: Date.now(),\n      x\n    });\n    taps.current = taps.current.filter(a => Date.now() - a.t < 800);\n    const len = taps.current.length;\n    if (len === 1) {\n      setTimeout(() => {\n        if (taps.current.length === 1) {\n          const pos = taps.current[0].x;\n          if (pos > third && pos < 2 * third) {\n            const v = videoRef.current;\n            if (v.paused) v.play();else v.pause();\n          }\n          taps.current = [];\n        }\n      }, 250);\n    } else if (len === 2) {\n      const avgX = (taps.current[0].x + taps.current[1].x) / 2;\n      const v = videoRef.current;\n      if (avgX > 2 * third) v.currentTime = Math.min(v.duration, v.currentTime + 10);else if (avgX < third) v.currentTime = Math.max(0, v.currentTime - 10);\n      taps.current = [];\n    } else if (len >= 3) {\n      const avgX = (taps.current[0].x + taps.current[1].x + taps.current[2].x) / 3;\n      const v = videoRef.current;\n      if (avgX > 2 * third) {\n        window.close();\n      } else if (avgX < third) {\n        alert(\"Show comments (implement modal)\");\n      } else {\n        const evt = new CustomEvent(\"nextVideo\");\n        window.dispatchEvent(evt);\n      }\n      taps.current = [];\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-container\",\n    style: {\n      position: 'relative'\n    },\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'rgba(255,255,255,0.7)',\n        zIndex: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#1d9bf0',\n          fontWeight: 600\n        },\n        children: \"Loading video...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      src: src,\n      controls: true,\n      onTouchStart: handleTouch,\n      style: {\n        width: '100%',\n        maxHeight: 400\n      },\n      onLoadedData: () => setLoading(false),\n      onWaiting: () => setLoading(true),\n      onPlaying: () => setLoading(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomVideoPlayer, \"K5ZtfMG/ZkeOW6NEzcLqmJ1nJGw=\");\n_c = CustomVideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"CustomVideoPlayer\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","CustomVideoPlayer","src","_s","videoRef","taps","loading","setLoading","handleTouch","e","touch","touches","rect","target","getBoundingClientRect","x","clientX","left","third","width","current","push","t","Date","now","filter","a","len","length","setTimeout","pos","v","paused","play","pause","avgX","currentTime","Math","min","duration","max","window","close","alert","evt","CustomEvent","dispatchEvent","className","style","position","children","top","right","bottom","display","alignItems","justifyContent","background","zIndex","color","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","ref","controls","onTouchStart","maxHeight","onLoadedData","onWaiting","onPlaying","_c","$RefreshReg$"],"sources":["C:/Users/itsmu/Downloads/twiller_complete_project/frontend/src/components/CustomVideoPlayer.jsx"],"sourcesContent":["\nimport React, { useRef, useState } from \"react\";\n\nexport default function CustomVideoPlayer({ src }) {\n  const videoRef = useRef();\n  const taps = useRef([]);\n  const [loading, setLoading] = useState(true);\n\n  function handleTouch(e){\n    const touch = e.touches[0];\n    const rect = e.target.getBoundingClientRect();\n    const x = touch.clientX - rect.left;\n    const third = rect.width / 3;\n    taps.current.push({ t: Date.now(), x });\n    taps.current = taps.current.filter(a => Date.now() - a.t < 800);\n    const len = taps.current.length;\n\n    if (len === 1) {\n      setTimeout(()=> {\n        if (taps.current.length === 1) {\n          const pos = taps.current[0].x;\n          if (pos > third && pos < 2*third) {\n            const v = videoRef.current;\n            if (v.paused) v.play(); else v.pause();\n          }\n          taps.current = [];\n        }\n      }, 250);\n    } else if (len === 2) {\n      const avgX = (taps.current[0].x + taps.current[1].x) / 2;\n      const v = videoRef.current;\n  if (avgX > 2*third) v.currentTime = Math.min(v.duration, v.currentTime + 10);\n  else if (avgX < third) v.currentTime = Math.max(0, v.currentTime - 10);\n      taps.current = [];\n    } else if (len >= 3) {\n      const avgX = (taps.current[0].x + taps.current[1].x + taps.current[2].x) / 3;\n      const v = videoRef.current;\n      if (avgX > 2*third) {\n        window.close();\n      } else if (avgX < third) {\n  alert(\"Show comments (implement modal)\");\n      } else {\n  const evt = new CustomEvent(\"nextVideo\");\n        window.dispatchEvent(evt);\n      }\n      taps.current = [];\n    }\n  }\n\n  return (\n    <div className=\"video-container\" style={{position:'relative'}}>\n      {loading && (\n        <div style={{\n          position:'absolute', left:0, top:0, right:0, bottom:0,\n          display:'flex', alignItems:'center', justifyContent:'center',\n          background:'rgba(255,255,255,0.7)', zIndex:2\n        }}>\n          <span style={{color:'#1d9bf0', fontWeight:600}}>Loading video...</span>\n        </div>\n      )}\n      <video\n        ref={videoRef}\n        src={src}\n        controls\n        onTouchStart={handleTouch}\n        style={{ width: '100%', maxHeight: 400 }}\n        onLoadedData={()=>setLoading(false)}\n        onWaiting={()=>setLoading(true)}\n        onPlaying={()=>setLoading(false)}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}